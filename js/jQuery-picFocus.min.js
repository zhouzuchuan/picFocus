/*
*
*create by zhouzuchuan (.com)
*https://github.com/zhouzuchuan/picFocus
*
*/
(function(h){if(h.fn.picFocus){return}var b='<style type="text/css">'+".pf_ul_wrap {position: relative;overflow: hidden;z-index: 1;}"+".pf_ul_wrap ul {position: absolute;left: 0;top: 0;font-size: 0;letter-spacing: -4px;z-index: 1;}"+".pf_ul_wrap ul li {position: relative;display: inline-block;max-height: 100%;font-size: 12px;letter-spacing: 0;overflow: hidden;text-align: center;vertical-align: middle;*float: left;}"+".pf_loading {position: absolute;left: 0;top: 0;width: 100%;text-align: center;background: #fff;z-index: 10;}"+".pf_loading span {position: absolute;left: 0;top: 50%;display: inline-block;width: 100%;font-size: 20px;color: #666;font-family: Microsoft YaHei;}"+".pf_loading em , .pf_loading strong {display: inline-block;vertical-align: middle;font-weight: normal;}"+".pf_loading_ico {width: 32px;height: 32px;margin-right: 10px;background-size: contain;}"+".pf_txt_wrap {position: relative;margin-top: -40px;height: 40px;line-height: 40px;z-index: 5;overflow: hidden;}"+".pf_txt_wrap ul {position: absolute;left: 0;top: 0;z-index: 2;}"+".pf_txt_wrap ul li {display: none; padding: 0 30px;font-size: 20px;color: #fff; background: transparent;}"+".pf_txt_wrap ul li.active {display: inline-block;}"+".pf_txt_bg {position: absolute;left: 0;top: 0;width: 100%;height: 100%;background: #888;opacity: .5;filter: alpha(opacity=50);z-index: 1;}"+".pf_thumb_wrap {position: relative;overflow: hidden;}"+".pf_thumb_ul {position: relative;letter-spacing: -4px;font-size: 0;}"+".pf_thumb_ul li {display: inline-block;letter-spacing: 0;font-size: 12px;cursor: pointer;*float: left;}"+".pf_thumb_ul li img {width: 100%;height: 100%;}"+".pf_thumb_pic {padding: 4px;height: 60px;}"+".pf_thumb_point {display: inline-block;width: 10px;height: 5px;background: #fff;overflow: hidden;}"+".pf_thumb_pic.active , .pf_thumb_point.active {background: orange;}"+".pf_next , .pf_prev {position: absolute;top: 50%;display: inline-block;width: 50px;height: 50px;line-height: 50px;font-size: 40px;font-weight: bold;color: #fff;font-family: SimHei;margin-top: -25px;text-align: center;background: #888;cursor: pointer;opacity: .5;filter: alpha(opacity=50);z-index: 2;}"+".pf_next:hover , .pf_prev:hover {opacity: .9;filter: alpha(opacity=90);}"+".pf_next {right: 20px;}"+".pf_prev {left: 20px;}";h("head").append(b);h.fn.picFocus=function(p){var q={ele:h(this),eul:h(this).find("ul"),eli:h(this).find("ul").children("li")};if(this.length>1){return this.each(function(){h(this).picFocus(p,q)})}p=h.extend({},q,p||{});h.picFocus(p,q)};h.picFocus=function(r,s){var t=h.extend({},o,r||{});var q=h.extend({},s,{btnNext:".pf_next",btnPrev:".pf_prev",thumbDom:".pf_thumb_ul",txtDom:".pf_txt_ul",width:"",height:"",index:1,removing:0,moveSwitch:true,ifHoverOut:"",directionNum:-1,eliSize:0,timer:"",interval:2000,duration:500,easing:"swing",nowIndex:0,nextIndex:0,loadingShow:true,loadingText:"玩命加载中！",loadingImgSrc:"http://365jia.cn/images/load.gif",thumbFirstMove:"",thumbShow:false,thumbShowSize:5,thumbStatus:2,thumbArr:[],txtShow:false});var p={};p._init=function(){q.eliSize=q.eli.length;q.width=k(t.width)?t.width:q.ele.width();q.height=k(t.height)?t.height:q.ele.height();q.removing=q.width;q.ele.css({"position":"relative"});q.eul.wrap('<div class="pf_ul_wrap"></div>').append("<li>"+q.eli.first().html()+"</li>").prepend("<li>"+q.eli.last().html()+"</li>").width(q.removing*(q.eliSize+2)).css({"height":q.height}).parent().css({"width":q.width,"height":q.height}).find("li").width(q.width);if(k(t.showIndex)&&t.showIndex>=0&&t.showIndex<=q.eliSize){q.index=t.showIndex+1}else{if(k(t.showIndex)&&t.showIndex>q.eliSize){q.index=(t.showIndex%q.eliSize)+1}}if(q.index>=(q.eliSize+1)){q.index=1}else{if(q.index<=0){q.index=q.eliSize}}q.eul.css({"left":(q.index*q.directionNum)*q.removing});q.nowIndex=t.showIndex>=q.eliSize?(t.showIndex%q.eliSize):t.showIndex;q.ele.find(q.btnPrev).hide();q.ele.find(q.btnNext).hide();if(n(t.next)&&n(t.prev)){if(m(t.hideNextPrev)){q.ele.find(q.btnPrev).show();q.ele.find(q.btnNext).show()}}else{if(!c(t.hideNextPrev)){q.eul.after('<span class="pf_next">&gt;</span><span class="pf_prev">&lt;</span>');if(t.hideNextPrev=="hover"){q.ele.find(q.btnPrev).hide();q.ele.find(q.btnNext).hide()}}}if(q.nowIndex>q.thumbShowSize||a(q.thumbFirstMove)){q.thumbArr=[0,q.thumbShowSize-1]}else{q.thumbArr=[q.nowIndex-(q.thumbShowSize-1),q.nowIndex]}if(c(q.thumbShow)){q.ele.append('<div class="pf_thumb_wrap"><ul class="pf_thumb_ul"></ul></div>');var A=document.createDocumentFragment(),y,w;for(var z=0;z<q.eliSize;z++){var v=document.createElement("li");if(q.thumbStatus===2){var x=document.createElement("img");x.src=q.eli.eq(z).find("img").attr("src");v.className="pf_thumb_pic";v.appendChild(x)}else{if(q.thumbStatus===1){v.className="pf_thumb_point"}}A.appendChild(v)}q.ele.find(q.thumbDom).append(A);w=q.ele.find(q.thumbDom).find("li").outerWidth(true)-q.ele.find(q.thumbDom).find("li").width();if(q.thumbShowSize<=q.eliSize&&q.thumbStatus!=1){y=Math.ceil(q.width/q.thumbShowSize)}else{y=Math.ceil(q.width/q.eliSize)
}q.ele.find(q.thumbDom).find("li").width(y-w);q.ele.find(q.thumbDom).width(y*q.eliSize).parent().css({"width":q.width});if(l(t.thumb.style)){q.ele.find(q.thumbDom).find("li").css(t.thumb.style)}q.ele.find(q.thumbDom).find("li").click(function(){if(!q.moveSwitch){return false}q.index=h(this).index()+1;p._clickMove(null,h(this).parents(q.ele))});p._thumbClick(q.index-1)}if(c(q.txtShow)){q.eul.parent().after('<div class="pf_txt_wrap"><ul class="pf_txt_ul"></ul><p class="pf_txt_bg"></p></div>');var A=document.createDocumentFragment();for(var z=0;z<q.eliSize;z++){var v=document.createElement("li");var B=document.createElement("span");B.innerHTML=q.eli.eq(z).find("img").attr("title");v.appendChild(B);A.appendChild(v)}q.ele.find(q.txtDom).append(A);q.ele.find(q.txtDom).parent().css({"width":q.width});p._switchTxt(q.index-1)}q.ele.find(q.btnPrev).click(function(){clearInterval(q.timer);p._clickMove("prev",h(this).parents(q.ele))});q.ele.find(q.btnNext).click(function(){clearInterval(q.timer);p._clickMove("next",h(this).parents(q.ele))});q.eul.parent().on({mouseenter:function(){if(t.hideNextPrev=="hover"){q.ele.find(q.btnNext).show();q.ele.find(q.btnPrev).show()}if(c(t.hoverStop)){clearInterval(q.timer);q.ifHoverOut=true}},mouseleave:function(){if(t.hideNextPrev=="hover"){q.ele.find(q.btnNext).hide();q.ele.find(q.btnPrev).hide()}if(c(t.hoverStop)){q.ifHoverOut=false;q.timer=setInterval(u,q.interval)}}})};p._clickMove=function(w,v){if(!q.moveSwitch){return false}q.moveSwitch=false;clearInterval(q.timer);var x=1;if(w==="next"){q.index++}else{if(w==="prev"){q.index--;x=-1}}q.nowIndex=q.index-1;q.nextIndex=q.nowIndex+x;if(q.nowIndex>=q.eliSize){q.nowIndex%=q.eliSize}else{if(q.nowIndex<0){q.nowIndex+=q.eliSize}}if(q.nextIndex>=q.eliSize){q.nextIndex%=q.eliSize}else{if(q.nextIndex<0){q.nextIndex+=q.eliSize}}p._thumbClick(q.nowIndex);p._switchTxt(q.nowIndex);v.children(".pf_ul_wrap").find("ul").stop().animate({"left":(q.index*q.directionNum)*q.removing},q.duration,q.easing).queue(function(y){if(q.index==(q.eliSize+1)){q.index=1}else{if(q.index==0){q.index=q.eliSize}}v.children(".pf_ul_wrap").find("ul").css("left",(q.index*q.directionNum)*q.removing);q.moveSwitch=true;y();if(f(t.after)){t.after(q.nowIndex,q.nextIndex)}if(!c(t.auto)){return false}if(c(q.ifHoverOut)){return false}clearInterval(q.timer);q.timer=setInterval(u,q.interval)})};p._thumbClick=function(w,v){if(!c(q.thumbShow)){return false}if(q.eliSize>q.thumbShowSize&&q.thumbStatus!=1){if(w>=Math.max.apply(null,q.thumbArr)){if(w>=q.eliSize-1){q.thumbArr=[q.eliSize-q.thumbShowSize,q.eliSize-1]}else{q.thumbArr=[w-(q.thumbShowSize-2),w+1]}}else{if(w<=Math.min.apply(null,q.thumbArr)){if(w<=0){q.thumbArr=[0,q.thumbShowSize-1]}else{q.thumbArr=[w-1,w+(q.thumbShowSize-2)]}}}if(!a(q.thumbFirstMove)){q.ele.find(q.thumbDom).stop().animate({"left":-Math.min.apply(null,q.thumbArr)*q.ele.find(q.thumbDom).find("li").outerWidth(true)},q.duration,q.easing)}}q.ele.find(q.thumbDom).find("li").each(function(x,y){h(y).removeClass("active")});q.ele.find(q.thumbDom).find("li").eq(w).addClass("active");q.thumbFirstMove="zhouzuchuan"},p._switchTxt=function(v){if(!c(q.txtShow)){return false}q.ele.find(q.txtDom).find("li").each(function(w,x){h(x).removeClass("active")});q.ele.find(q.txtDom).find("li").eq(v).addClass("active")},p._imgLoad=function(w,x){var v=setInterval(function(){if(w.complete||(w.width&&w.height&&document.all)){x(w);clearInterval(v)}},30)},p._loading=function(){if(!c(q.loadingShow)){return false}q.eul.find("li").each(function(v,w){h(w).append('<div class="pf_loading"><span class=""><em></em><strong>'+q.loadingText+"</strong></span></div>");if(!m(t.loading.loadingImgSrc)){h(w).find(".pf_loading").find("em").addClass("pf_loading_ico").css({"background-image":"url("+q.loadingImgSrc+")"})}p._imgLoad(h(w).find("img").get(0),function(x){h(x).parents("li").find(".pf_loading").remove()})});h(".pf_loading").height(q.height)};if(n(t.next)){q.btnNext=t.next}if(n(t.prev)){q.btnPrev=t.prev}if(c(t.thumb.show)){q.thumbShow=true}if(k(t.thumb.showSize)){q.thumbShowSize=t.thumb.showSize}if(n(t.thumb.status)){switch(t.thumb.status){case"point":q.thumbStatus=1;break;case"picture":q.thumbStatus=2;break}}if(c(t.txt.show)){q.txtShow=true}if(!c(t.loading.show)){q.loadingShow=false}if(n(t.loading.text)){q.loadingText=t.loading.text}if(n(t.loading.loadingImgSrc)){q.loadingImgSrc=t.loading.loadingImgSrc}p._init();p._loading();if(k(t.scroll.interval)){q.interval=t.scroll.interval}if(k(t.scroll.duration)){q.duration=t.scroll.duration}if(n(t.scroll.easing)){q.easing=t.scroll.easing}if(c(t.auto)){clearInterval(q.timer);q.timer=setInterval(u,q.interval)}function u(){if(n(t.direction)&&t.direction=="left"){p._clickMove("next",q.ele)}else{if(n(t.direction)&&t.direction=="right"){p._clickMove("prev",q.ele)}}}};var o={showIndex:0,direction:"left",width:"auto",height:"auto",next:"",prev:"",auto:true,hideNextPrev:false,hoverStop:false,loading:{show:true,text:"",loadingImgSrc:""},scroll:{interval:2000,duration:500,easing:"linear"},thumb:{show:false,status:"point",style:{},showSize:5},txt:{show:false},after:h.noop};
function e(p){return(p===null)}function a(p){return(e(p)||typeof p=="undefined"||p===""||p==="undefined")}function g(p){return(p instanceof Array)}function i(p){return(p instanceof jQuery)}function l(p){return((p instanceof Object||typeof p=="object")&&!e(p)&&!i(p)&&!g(p)&&!f(p))}function k(p){return((p instanceof Number||typeof p=="number")&&!isNaN(p))}function n(p){return((p instanceof String||typeof p=="string")&&!a(p)&&!c(p)&&!m(p))}function f(p){return(p instanceof Function||typeof p=="function")}function j(p){return(p instanceof Boolean||typeof p=="boolean"||c(p)||m(p))}function c(p){return(p===true||p==="true")}function m(p){return(p===false||p==="false")}function d(p){return(n(p)&&p.slice(-1)=="%")}})(jQuery);